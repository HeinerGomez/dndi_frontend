<form [formGroup]="reactiveForm">
    <div class="card mb-5">
        <div class="card-header">Formulario</div>
        <div class="card-body p-3">
            <div class="row mt-2 justify-content-end" *ngIf="!isCreateMode()">
                <div class="col-2">
                    <i class="fa fa-trash float-right icon-deleted-form" (click)="delete()"></i>
                </div>
            </div>
            <div class="row mt-5">
                <div class="col-md-6 form-group">
                    <label for="name">Pregunta</label>
                    <input formControlName="name" id="name" type="text" placeholder="Nombre" class="form-control">
                </div>
            </div>
            <div formArrayName="dataAnswer" class="row">
                <div class="col-10 order-2 order-lg-1">
                    <div>
                        <table class="table table-bordered table-hover">
                            <tr>
                                <th class="col-4">Respuesta</th>
                                <th class="col-4">Etiqueta</th>
                                <th class="col-2">Â¿ Respuesta Correcta ?</th>
                                <th class="col-2 text-center">Opciones</th>
                            </tr>
                            <tr *ngFor="let item of reactiveForm.get('dataAnswer')['controls']; let i = index"
                                [formGroupName]="i">
                                <td class="col-4">
                                    <input formControlName="name" type="text" placeholder="Nombre" class="form-control">
                                </td>
                                <td class="col-4">
                                    <input formControlName="tag" type="text" placeholder="Etiqueta"
                                        class="form-control">
                                </td>
                                <td class="col-2">
                                    <div class="custom-control custom-switch">
                                        <input type="checkbox" formControlName="isValid" class="custom-control-input"
                                            id="isValidSwitch-{{i}}" #active>
                                        <label class="custom-control-label"
                                            for="isValidSwitch-{{i}}">{{active.checked ? 'Activo' : 'In activo'}}</label>
                                    </div>
                                </td>
                                <td class="col-2 text-center">
                                    <button (click)="deleteRow(i)" class="btn btn-danger">
                                        <i class="fa fa-fw fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="col-2 order-1 order-lg-2">
                    <button (click)="addRow(reactiveForm)"
                        class="btn btn-lg btn-block btn-pill btn-outline-success btn-outline-2x ladda-button"
                        data-style="expand-left">
                        <i class="fa fa-plus-circle"></i>
                        Agregar
                    </button>
                    <div class="alert alert-success mt-3 text-center">
                        Total: <strong>{{ reactiveForm.get('dataAnswer')['controls'].length }}</strong>
                    </div>
                </div>
            </div>
            <div class="row mt-5 justify-content-end">
                <div class="col-4">
                    <button (click)="save()" [disabled]="reactiveForm.invalid || isLoading"
                        class="btn btn-lg btn-block btn-pill btn-outline-primary btn-outline-2x ladda-button"
                        data-style="expand-right">
                        <span>
                            Guardar Pregunta
                        </span>
                    </button>
                </div>
            </div>
        </div>
    </div>

</form>